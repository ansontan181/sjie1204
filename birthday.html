<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ç”Ÿæ—¥å¿«ä¹ï¼ğŸ‚âœ¨</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Zhi+Mang+Xing&display=swap" rel="stylesheet">
  <style>
    :root{ --bg:#0c0f1a; --txt:#eef2ff; --gold:#ffd166; }
    *{box-sizing:border-box; -webkit-tap-highlight-color:transparent}
    html,body{height:100%}
    body{
      margin:0; color:var(--txt);
      background: radial-gradient(900px 600px at 20% 10%, #2a2f6d40, transparent 60%), linear-gradient(180deg,#0b1024,#090b17 70%, #0c0f1a);
      min-height:100svh; overflow:hidden; font-family: Montserrat, system-ui, -apple-system, Segoe UI, Roboto, PingFang SC, Microsoft YaHei, sans-serif;
    }
    #fw{position:fixed; inset:0; z-index:0; width:100vw; height:100dvh}
    .content{position:relative; z-index:2; min-height:100dvh; display:grid; place-items:center; padding: clamp(16px, 4vw, 40px)}
    .card{
      text-align:center; width:min(820px, 94vw); padding: clamp(20px, 5vw, 36px); border-radius:24px; backdrop-filter: blur(10px);
      background: linear-gradient(180deg, #ffffff12, #ffffff08); border: 1px solid #ffffff1a; box-shadow: 0 16px 44px #000a, inset 0 1px 0 #fff1;
    }
    .date{ font-size: clamp(12px, 3.2vw, 14px); letter-spacing:.18em; opacity:.75; margin-bottom:6px}
    h1{ font-weight:800; font-size: clamp(26px, 8vw, 42px); margin:4px 0 6px }
    .scribble{font-family:"Zhi Mang Xing", cursive; font-size: clamp(22px, 7.2vw, 38px); color:#ffd6a5; margin:6px 0 10px}
    p{margin:0 auto 14px; line-height:1.7; font-size: clamp(14px, 4vw, 17px); max-width:62ch; opacity:.95}
    .chips{display:flex; gap:8px; flex-wrap:wrap; justify-content:center; margin-top:6px}
    .chip{padding:8px 12px; border-radius:999px; font-weight:700; font-size: clamp(12px,3.6vw,14px); background:#ffffff1a; border:1px solid #ffffff22}
    .actions{margin-top:14px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
    .btn{
      appearance:none; border:0; cursor:pointer; padding:12px 16px; border-radius:14px; font-weight:800; letter-spacing:.4px; font-size: clamp(14px, 4.4vw, 16px);
      background: linear-gradient(180deg, var(--gold), #ffb703); color:#3c2a00; box-shadow: 0 10px 22px #ffb70344, inset 0 -2px 0 #c98d00;
    }
    /* â€”â€” è§†é¢‘å¼¹å±‚ â€”â€” */
    .video-overlay{
      position:fixed; inset:0; z-index:99; display:none; align-items:center; justify-content:center; background:#000;
    }
    .video-overlay.show{ display:flex; }
    .video-wrap{ position:relative; width:100vw; height:100dvh; display:flex; align-items:center; justify-content:center; }
    .video-wrap video{ max-width:100vw; max-height:100dvh; width:100vw; height:auto; object-fit:contain; background:#000; }
    .close-btn{
      position:fixed; top:12px; right:12px; z-index:100;
      padding:10px 14px; border-radius:12px; border:0; font-weight:900; font-size:14px; cursor:pointer;
      background: linear-gradient(180deg,#fff,#eaeaea); color:#111; box-shadow:0 10px 20px #0005, inset 0 -2px 0 #ccc;
    }
  </style>
</head>
<body>
  <canvas id="fw"></canvas>

  <div class="content">
    <div class="card">
      <div class="date">2025 Â· 12 Â· 04</div>
      <h1>ç”Ÿæ—¥å¿«ä¹ï¼Œæ€æ·ï¼ğŸ‰</h1>
      <div class="scribble">æ„¿ä½ è¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…</div>
      <p>ä»Šå¤©å±äºä½ ï¼šæ„¿æ–°çš„ä¸€å²ï¼Œæ‰€å¿µçš†å¦‚æ„¿ï¼Œæ‰€è¡ŒåŒ–å¦é€”ã€‚æ„¿ä½ çœ¼é‡Œæ€»æœ‰å…‰ã€å¿ƒä¸­æ€»æœ‰çˆ±ï¼Œæƒ³è¦çš„éƒ½æ‹¥æœ‰ï¼Œå¾—ä¸åˆ°çš„éƒ½é‡Šæ€€ã€‚</p>
      <div class="chips">
        <div class="chip">ğŸ‚ Happy Birthday</div>
        <div class="chip">ğŸˆ æ°¸è¿œçƒ­çˆ±</div>
        <div class="chip">âœ¨ å¿ƒæƒ³äº‹æˆ</div>
        <div class="chip">ğŸ’ å¥åº·å¹³å®‰</div>
      </div>
      <div class="actions">
        <button class="btn" id="replay">å†æ”¾ä¸€æ³¢çƒŸèŠ±</button>
        <button class="btn" id="cakeBtn">ğŸ° è›‹ç³•</button>
      </div>
    </div>
  </div>

  <!-- èƒŒæ™¯éŸ³ä¹ï¼ˆä¸æœ¬é¡µåŒç›®å½•ï¼‰ -->
  <audio id="bgm" src="1.mp3?v=high1" preload="auto" autoplay loop></audio>

  <!-- è§†é¢‘å¼¹å±‚ï¼ˆä¸æœ¬é¡µåŒç›®å½•æ”¾ 2.mp4ï¼‰ -->
  <div class="video-overlay" id="videoOverlay" role="dialog" aria-label="è›‹ç³•è§†é¢‘">
    <button class="close-btn" id="closeVideo">å…³é—­ âœ•</button>
    <div class="video-wrap">
      <video id="cakeVideo" src="2.mp4?v=high1" playsinline webkit-playsinline controls preload="auto"></video>
    </div>
  </div>

  <script>
    // ===== é«˜ç©ºçƒŸèŠ± =====
    const cvs = document.getElementById('fw'), ctx = cvs.getContext('2d');
    function fit(){ cvs.width = innerWidth; cvs.height = Math.max(innerHeight, (visualViewport? visualViewport.height : innerHeight)); }
    addEventListener('resize', fit, {passive:true}); fit();
    let W=cvs.width, H=cvs.height; addEventListener('resize', ()=>{W=cvs.width; H=cvs.height;}, {passive:true});

    const rockets=[], particles=[], G=0.06, DRAG=0.985;
    const rnd=(a,b)=>a+Math.random()*(b-a);
    const hsv=(h,s,v)=>{let f=(n,k=(n+h/60)%6)=>v-v*s*Math.max(Math.min(k,4-k,1),0);return [f(5)*255,f(3)*255,f(1)*255]};

    function spawnRocket(x=rnd(W*0.2,W*0.8)){
      rockets.push({x, y:H+8, vx:rnd(-0.8,0.8), vy:rnd(-12,-9.8), hue:rnd(0,360), bloom:rnd(120,200)});
    }

    function explode(x,y,hue,n){
      for(let i=0;i<n;i++){
        const a=Math.random()*Math.PI*2, s=Math.pow(Math.random(),0.25)*rnd(2,6.2);
        const [r,g,b]=hsv(hue+rnd(-15,15),.8,1);
        particles.push({x,y, vx:Math.cos(a)*s, vy:Math.sin(a)*s, life:rnd(60,110), age:0, r,g,b});
      }
    }

    function loop(){
      ctx.globalCompositeOperation='destination-out';
      ctx.fillStyle='rgba(0,0,0,0.22)'; ctx.fillRect(0,0,W,H);
      ctx.globalCompositeOperation='lighter';

      // ç«ç®­ä¸Šå‡ï¼Œè¾¾åˆ°é«˜ç©ºå†çˆ†
      for(let i=rockets.length-1;i>=0;i--){
        const r=rockets[i];
        r.x+=r.vx; r.y+=r.vy; r.vy+=G*0.40; // ä¸Šå‡é˜¶æ®µè½»ä¸€ç‚¹é‡åŠ›
        ctx.fillStyle='rgba(255,255,255,.7)'; ctx.fillRect(r.x, r.y, 2, 2);
        // â€”â€” å…³é”®ï¼šæŠŠçˆ†ç‚¸é˜ˆå€¼è°ƒåˆ°æ›´é«˜ï¼ˆ12%~22% å±å¹•é«˜åº¦ï¼‰â€”â€”
        if(r.vy>-1 || r.y < H * rnd(0.12, 0.22)){
          explode(r.x, r.y, r.hue, r.bloom);
          rockets.splice(i,1);
        }
      }

      // ç²’å­ä¸‹è½
      for(let i=particles.length-1;i>=0;i--){
        const p=particles[i];
        p.vx*=DRAG; p.vy=p.vy*DRAG+G; p.x+=p.vx; p.y+=p.vy; p.age++;
        const a=Math.max(0,1-p.age/p.life);
        ctx.fillStyle=`rgba(${p.r|0},${p.g|0},${p.b|0},${a})`;
        ctx.beginPath(); ctx.arc(p.x,p.y,2,0,Math.PI*2); ctx.fill();
        if(p.age>p.life || p.y>H+12) particles.splice(i,1);
      }
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);

    setInterval(()=>spawnRocket(),
